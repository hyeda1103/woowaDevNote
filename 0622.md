[â† ë’¤ë¡œ](./README.md)

# ë¯¸ë‹ˆ ë¦¬ë•ìŠ¤ ë§Œë“¤ê¸°

- ì„¸ë¯¸ë‚˜ ì¼ìž: 2021-06-22(í™”)
- ë“±ìž¥ì¸ë¬¼
    - ìš°ì•„í•œ í˜•ì œë“¤ ê¸°ìˆ ì´ì‚¬ ê¹€ë¯¼íƒœë‹˜ðŸ‘“
    - ì•„í” ì•„í™‰ëª…ì˜ êµìœ¡ìƒë“¤ðŸ–

```js
// ë¯¸ë‹ˆ ë¦¬ë•ìŠ¤ ë§Œë“¤ê¸°
function createStore(reducer, middleware = []) {
  let state = {};

  let dispatch = (action) => {
    reducer(action);
  };

  let backupDispatch = dispatch;

  middleware.reverse().forEach((m) => {
    backupDispatch = m(store)(backupDispatch);
  });

  const store = {
    getState: () => {},
    dispatch: backupDispatch
  };

  return store;
}

function reducer(action) {
  console.log(action);
}

const fetchUserInfo = (store) => (next) => (action) => {
  if (action.type === "fetch user info") {
    setTimeout(() => {
      next({
        type: "response user info"
      });
    }, 3000);
  } else {
    next(action);
  }
  console.log("logger B => ", action.type);
};

const store = createStore(reducer, [fetchUserInfo]);

store.dispatch({ type: "fetch posts" });
store.dispatch({ type: "fetch user info" });
```
