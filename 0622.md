[â† ë’¤ë¡œ](./README.md)

# ë¯¸ë‹ˆ ë¦¬ë•ìŠ¤ ë§Œë“¤ê¸°

- ì„¸ë¯¸ë‚˜ ì¼ìž: 2021-06-22(í™”)
- ë“±ìž¥ì¸ë¬¼
    - ìš°ì•„í•œ í˜•ì œë“¤ ê¸°ìˆ ì´ì‚¬ ê¹€ë¯¼íƒœë‹˜ðŸ‘“
    - ì•„í” ì•„í™‰ëª…ì˜ êµìœ¡ìƒë“¤ðŸ–
        - ë‚˜ðŸ¥Ž

## ìš°ë¦¬ì˜ ëŒ€í™”
- ì´ë‚  ë‚˜ëŠ” ì†Œë¦¬ì—†ì´ ê°•ì˜ë¥¼ ë“¤ì–´ì•¼ í–ˆë‹¤(ê°œì¸ì‚¬ì •ìƒ)
    - ìŒì†Œê±°ë¡œ ë´¤ìœ¼ë‹ˆ ìˆ˜ì—…ì‹œê°„ì— êµ¬í˜„í•œ ì½”ë“œ ì´í•´ëŠ” ë‚´ ëª«ì´ë‹¤
- ê°•ì˜ë¥¼ ë†“ì¹˜ê¸°ëŠ” ì‹«ì–´ì„œ í•¸ë“œí°ìœ¼ë¡œ ì¤Œì„ ìŠ¬ì© ì¼œë†“ê³  ë…¸íŠ¸ë¶ì—ëŠ” ì½”ë“œìƒŒë“œë°•ìŠ¤ë¥¼ ì—´ì–´ë†“ì€ ì±„ ì€ë°€ížˆ ì½”ë“œë¥¼ ë”°ë¼ ì³¤ë‹¤.
    - ðŸ”— [ì½”ë“œìƒŒë“œë°•ìŠ¤ ë³´ëŸ¬ê°€ê¸°](https://codesandbox.io/embed/loving-mendel-j3fzm?fontsize=14&hidenavigation=1&theme=light)

### ë¯¸ë‹ˆ ë¦¬ë•ìŠ¤ ë§Œë“¤ê¸°

```js
// index.js
function createStore(reducer, middleware = []) {
  let state = {};

  let dispatch = (action) => {
    reducer(action);
  };

  let backupDispatch = dispatch;

  middleware.reverse().forEach((m) => {
    backupDispatch = m(store)(backupDispatch);
  });

  const store = {
    getState: () => {},
    dispatch: backupDispatch
  };

  return store;
}

function reducer(action) {
  console.log(action);
}

const fetchUserInfo = (store) => (next) => (action) => {
  if (action.type === "fetch user info") {
    setTimeout(() => {
      next({
        type: "response user info"
      });
    }, 3000);
  } else {
    next(action);
  }
  console.log("logger B => ", action.type);
};

const store = createStore(reducer, [fetchUserInfo]);

store.dispatch({ type: "fetch posts" });
store.dispatch({ type: "fetch user info" });

/*
{type: "fetch posts"}
logger B =>  fetch posts 
logger B =>  fetch user info 
{type: "response user info"}
*/
```

